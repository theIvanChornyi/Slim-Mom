"use strict";(self.webpackChunkslim_mom=self.webpackChunkslim_mom||[]).push([[929],{1850:function(n,e,t){t.d(e,{Z:function(){return c}});t(2791);var a,r,i=t(168),o=t(6444),l=o.ZP.div(a||(a=(0,i.Z)(["\n  margin-right: auto;\n  margin-left: auto;\n  margin-bottom: 12px;\n  align-content: center;\n"]))),d=o.ZP.input(r||(r=(0,i.Z)(["\n  width: ",";\n  padding: 3px;\n  font-size: 13px;\n  border-color: #264061;\n  outline: none;\n  border: none;\n\n  border-bottom: 2px solid ",";\n  background: transparent;\n\n  font-family: 'Jost', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 1.21;\n  letter-spacing: 0.04em;\n  color: ",";\n\n  ::placeholder {\n    color: ",";\n  }\n\n  margin-left: auto;\n  margin-right: auto;\n  @media (min-width: 768px) {\n    width: ",";\n  }\n"])),(function(n){return n.isAuth?"260px":"280px"}),(function(n){return n.theme.modalTextColor}),(function(n){return n.theme.modalTextColor}),(function(n){return n.theme.modalTextColor}),(function(n){return n.isAuth?"270px":"330px"})),s=t(3329),c=function(n){var e=n.onChangeFilter,t=n.value,a=n.isAuth,r=void 0!==a&&a;return(0,s.jsx)(l,{children:(0,s.jsx)(d,{isAuth:r,onChange:e,type:"text",value:t,name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces.",required:!0,placeholder:"Search product"})})}},2929:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var a,r,i,o,l,d,s,c,u,p,h=t(5861),x=t(885),m=t(7757),f=t.n(m),g=t(4584),v=t(1087),w=t(7689),b=t(1850),y=t(2791),Z=t(9434),k=t(8379),j=t(168),A=t(6444),P=t(9181),C=t(5330),D=t(2303),S=A.ZP.aside(a||(a=(0,j.Z)(["\n  margin: 0 -20px;\n  background: ",";\n  padding: 40px 20px;\n  min-width: 280px;\n  min-height: 433px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  gap: 40px;\n\n  @media "," {\n    margin: 0 -32px;\n    width: 100%;\n    min-height: 166px;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    padding: 80px 88px;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: top -180;\n  }\n\n  @media "," {\n    margin: 0 -32px;\n    background: ",";\n\n    margin-left: auto;\n    gap: 60px;\n    padding: 0;\n    width: 497px;\n    height: 850px;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-image: url(",");\n    background-repeat: no-repeat;\n    background-position: 0 -80%;\n    overflow: auto;\n  }\n"])),(function(n){return n.theme.sideBarColor}),P.A.minTablet,C,P.A.desktop,(function(n){return n.theme.sideBarColor}),D),R=A.ZP.h2(r||(r=(0,j.Z)(["\n  margin-bottom: 20px;\n\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #212121;\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 38px;\n  }\n"]))),z=A.ZP.div(i||(i=(0,j.Z)(["\n  min-width: 280px;\n  max-width: 520px;\n\n  @media screen and (min-width: 768px) {\n    width: 244px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 290px;\n  }\n"]))),I=A.ZP.ul(o||(o=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n"]))),L=A.ZP.li(l||(l=(0,j.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),M=A.ZP.p(d||(d=(0,j.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #9b9faa;\n"]))),F=A.ZP.span(s||(s=(0,j.Z)(["\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #9b9faa;\n"]))),O=A.ZP.ul(c||(c=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  gap: 20px;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #e2e2e2;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #264061;\n  }\n"]))),T=t(3329);function q(n){var e=n.date,t=n.dailyInfo,a=n.notAllowedProducts,r=t.dailyRate,i=t.kcalConsumed,o=t.kcalLeft,l=t.percentsOfDailyRate,d=t.daySummary,s=(0,Z.v9)(k.Jt),c=(0,y.useState)(""),u=(0,x.Z)(c,2),p=u[0],h=u[1],m=(0,y.useMemo)((function(){return a.filter((function(n){return n.toLowerCase().includes(p.toLowerCase())})).sort((function(n,e){return n.localeCompare(e)}))}),[p,a]),f=function(n){var e=r||(null===d||void 0===d?void 0:d.dailyRate);return Math.round(n/100*e)},g=Math.round(o)||Math.round(null===d||void 0===d?void 0:d.kcalLeft),v=Math.round(i)||Math.round(null===d||void 0===d?void 0:d.kcalConsumed),w=Math.round(l)||Math.round(null===d||void 0===d?void 0:d.percentsOfDailyRate),j=f(l)||f(null===d||void 0===d?void 0:d.percentsOfDailyRate);return(0,T.jsxs)(S,{children:[(0,T.jsxs)(z,{children:[(0,T.jsxs)(R,{children:["Summary for ",e]}),(0,T.jsxs)(I,{children:[(0,T.jsxs)(L,{children:[(0,T.jsx)(M,{children:"Left"}),(0,T.jsxs)(F,{children:[o||d?g:"000","kcal"]})]}),(0,T.jsxs)(L,{children:[(0,T.jsx)(M,{children:"Consumed"}),(0,T.jsxs)(F,{children:[i||d?v:"000","kcal"]})]}),(0,T.jsxs)(L,{children:[(0,T.jsx)(M,{children:"Daily rate"}),(0,T.jsxs)(F,{children:[r||d?r||d.dailyRate:"000","kcal"]})]}),(0,T.jsxs)(L,{children:[(0,T.jsxs)(M,{children:[l||d?w:"n","% of normal"]}),(0,T.jsxs)(F,{children:[l||d?j:"000","kcal"]})]})]})]}),(0,T.jsxs)(z,{children:[(0,T.jsx)(R,{children:"Food not recommended"}),(0,T.jsx)(b.Z,{isAuth:s,onChangeFilter:function(n){h(n.target.value)},value:p}),(0,T.jsx)(O,{children:m?(0,T.jsx)(T.Fragment,{children:null===m||void 0===m?void 0:m.map((function(n){return(0,T.jsx)(L,{children:(0,T.jsx)(M,{children:n})},n)}))}):(0,T.jsx)(L,{children:(0,T.jsx)(M,{children:"Your diet will be displayed here"})})})]})]})}var B=A.ZP.section(u||(u=(0,j.Z)(["\n  min-width: 320px;\n  background: ",";\n\n  @media "," {\n    background: ",";\n  }\n\n  @media "," {\n    height: 100vh;\n    background: transparent;\n  }\n"])),(function(n){return n.theme.gradient?"linear-gradient(\n        180deg,\n        rgba(255, 255, 255, 1) 48%,\n        rgba(240, 241, 243, 1) 48%\n      )":"linear-gradient(\n        180deg,\n        rgba(22,\t81,\t129, 0.3) 48%,\n        #165181 48%\n      )"}),P.A.minTablet,(function(n){return n.theme.gradient?"linear-gradient(\n        180deg,\n        rgba(255, 255, 255, 1) 60%,\n        rgba(240, 241, 243, 1) 60%\n      )":"linear-gradient(\n        180deg,\n        rgba(22,\t81,\t129, 0.3) 60%,\n        #165181 60%\n      )"}),P.A.desktop),J=A.ZP.section(p||(p=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-direction: row;\n  }\n"])),P.A.desktop),N=t(5890),E=t(5985),U=t(8929),_=t(7849),G=(new Date).toLocaleDateString("en-CA");function W(){var n=(0,v.lr)(),e=(0,x.Z)(n,1)[0].get("date")||G,t=new Date(e).toLocaleDateString("en-GB").replaceAll("/","."),a=(0,w.UO)().userId,r=(0,Z.v9)(_.e),i=JSON.parse(window.localStorage.getItem("userParams")),o=(0,y.useState)({}),l=(0,x.Z)(o,2),d=l[0],s=l[1],c=(0,y.useState)("idle"),u=(0,x.Z)(c,2),p=u[0],h=u[1],m=(0,y.useState)([]),f=(0,x.Z)(m,2),b=f[0],k=f[1],j=(0,y.useState)({}),A=(0,x.Z)(j,2),P=A[0],C=A[1],D=(0,y.useState)(null),S=(0,x.Z)(D,2),R=S[0],z=S[1];return P&&E.Am.warn(R),(0,y.useEffect)((function(){!function(n,e,t,a,r,i,o,l){$.apply(this,arguments)}(s,z,k,C,e,a,i,h)}),[e,a]),(0,y.useEffect)((function(){!function(n,e,t,a){Y.apply(this,arguments)}(C,k,z,h)}),[]),(0,T.jsx)(B,{isDaddy:r,children:(0,T.jsx)(g.W,{children:null!==P&&void 0!==P&&P.notAllowedProducts?(0,T.jsxs)(J,{children:[(0,T.jsx)(y.Suspense,{fallback:(0,T.jsx)(U.Z,{}),children:(0,T.jsx)(w.j3,{context:{userData:P,setNotAllowedProducts:k,dailyRate:d,setDailyRate:s,state:p}})}),(0,T.jsx)(q,{date:t,dailyInfo:d,notAllowedProducts:b})]}):(0,T.jsx)(U.Z,{})})})}function Y(){return(Y=(0,h.Z)(f().mark((function n(e,t,a,r){var i,o,l,d,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r("pending"),n.next=4,N.Z.getUserInfoRequest();case 4:i=n.sent,o=i.data,a(null),e(o.userData),t(o.userData.notAllowedProducts),r("idle"),o.userData.height>90&&window.localStorage.removeItem("userParams"),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),s=null===n.t0||void 0===n.t0||null===(l=n.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message,a(s),r("idle");case 18:case"end":return n.stop()}}),n,null,[[0,13]])})))).apply(this,arguments)}function $(){return($=(0,h.Z)(f().mark((function n(e,t,a,r,i,o,l,d){var s,c;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,d("pending"),n.next=4,N.Z.getInfoForDayRequest({date:i});case 4:s=n.sent,c=s.data,e(c),t(null),d("idle"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),d("idle"),"Please, count your daily rate first"===n.t0.response.data.message&&l?(t(null),r(l),H(o,l,e,a,t,d)):t(n.t0.response.data.message);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function H(n,e,t,a,r,i){return K.apply(this,arguments)}function K(){return(K=(0,h.Z)(f().mark((function n(e,t,a,r,i,o){var l,d,s,c,u;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o("pending"),n.next=4,N.Z.calculateDaylyAuthRequest(e,t);case 4:l=n.sent,d=l.data,a({dailyRate:d.dailyRate,kcalLeft:d.dailyRate}),r(d.notAllowedProducts),i(null),window.localStorage.removeItem("userParams"),o("idle"),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),u=null===n.t0||void 0===n.t0||null===(s=n.t0.response)||void 0===s||null===(c=s.data)||void 0===c?void 0:c.message,i(u),o("idle");case 18:case"end":return n.stop()}}),n,null,[[0,13]])})))).apply(this,arguments)}},2303:function(n,e,t){n.exports=t.p+"static/media/leaves-desktop-aside.fcac4bdf1d6bc3e59212.png"}}]);
//# sourceMappingURL=929.87ebbd57.chunk.js.map