{"version":3,"file":"static/js/929.87ebbd57.chunk.js","mappings":"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","sources":["components/Filter/Filter.styled.js","components/Filter/Filter.jsx","components/SideBar/SideBar.styled.js","components/SideBar/SideBar.jsx","pages/User/User.styled.js","pages/User/User.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const FilterWrap = styled.div`\n  margin-right: auto;\n  margin-left: auto;\n  margin-bottom: 12px;\n  align-content: center;\n`;\n\nexport const FilterInput = styled.input`\n  width: ${p => (p.isAuth ? '260px' : '280px')};\n  padding: 3px;\n  font-size: 13px;\n  border-color: #264061;\n  outline: none;\n  border: none;\n\n  border-bottom: 2px solid ${p => p.theme.modalTextColor};\n  background: transparent;\n\n  font-family: 'Jost', sans-serif;\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 1.21;\n  letter-spacing: 0.04em;\n  color: ${p => p.theme.modalTextColor};\n\n  ::placeholder {\n    color: ${p => p.theme.modalTextColor};\n  }\n\n  margin-left: auto;\n  margin-right: auto;\n  @media (min-width: 768px) {\n    width: ${p => (p.isAuth ? '270px' : '330px')};\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FilterInput, FilterWrap } from './Filter.styled';\n\nconst Filter = ({ onChangeFilter, value, isAuth = false }) => (\n  <FilterWrap>\n    <FilterInput\n      isAuth={isAuth}\n      onChange={onChangeFilter}\n      type=\"text\"\n      value={value}\n      name=\"name\"\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n      title=\"Name may contain only letters, apostrophe, dash and spaces.\"\n      required\n      placeholder=\"Search product\"\n    />\n  </FilterWrap>\n);\n\nexport default Filter;\n\nFilter.propTypes = {\n  onChangeFilter: PropTypes.func.isRequired,\n  value: PropTypes.string,\n  isAuth: PropTypes.bool,\n};\n","import styled from 'styled-components';\nimport { breakpoints } from 'helpers/breakpoints';\nimport leaves from '../../helpers/images/leaves-aside-tablet.png';\nimport leavesBig from '../../helpers/images/leaves-desktop-aside.png';\n\nexport const AsideBox = styled.aside`\n  margin: 0 -20px;\n  background: ${p => p.theme.sideBarColor};\n  padding: 40px 20px;\n  min-width: 280px;\n  min-height: 433px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  gap: 40px;\n\n  @media ${breakpoints.minTablet} {\n    margin: 0 -32px;\n    width: 100%;\n    min-height: 166px;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: space-between;\n    padding: 80px 88px;\n    background-image: url(${leaves});\n    background-repeat: no-repeat;\n    background-position: top -180;\n  }\n\n  @media ${breakpoints.desktop} {\n    margin: 0 -32px;\n    background: ${p => p.theme.sideBarColor};\n\n    margin-left: auto;\n    gap: 60px;\n    padding: 0;\n    width: 497px;\n    height: 850px;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-image: url(${leavesBig});\n    background-repeat: no-repeat;\n    background-position: 0 -80%;\n    overflow: auto;\n  }\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: 20px;\n\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #212121;\n\n  @media screen and (min-width: 1280px) {\n    margin-bottom: 38px;\n  }\n`;\n\nexport const Div = styled.div`\n  min-width: 280px;\n  max-width: 520px;\n\n  @media screen and (min-width: 768px) {\n    width: 244px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 290px;\n  }\n`;\n\nexport const KcalList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n`;\n\nexport const KcalItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const Text = styled.p`\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #9b9faa;\n`;\n\nexport const Span = styled.span`\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 17px;\n  letter-spacing: 0.04em;\n\n  color: #9b9faa;\n`;\n\nexport const ProductList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  height: 200px;\n  gap: 20px;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    background: #e2e2e2;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: #264061;\n  }\n`;\n","import Filter from 'components/Filter';\nimport PropTypes from 'prop-types';\nimport { useMemo, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectIsAuth } from 'redux/auth/selectors.auth';\nimport {\n  AsideBox,\n  Div,\n  KcalItem,\n  KcalList,\n  ProductList,\n  Span,\n  Text,\n  Title,\n} from './SideBar.styled';\n\nexport default function SideBar({ date, dailyInfo, notAllowedProducts }) {\n  const { dailyRate, kcalConsumed, kcalLeft, percentsOfDailyRate, daySummary } =\n    dailyInfo;\n\n  const isAuth = useSelector(selectIsAuth);\n  const [filterRequest, setFilterRequest] = useState('');\n\n  const getUserFilterRequest = e => {\n    setFilterRequest(e.target.value);\n  };\n\n  const filtredNotAllowedProducts = useMemo(\n    () =>\n      notAllowedProducts\n        .filter(product =>\n          product.toLowerCase().includes(filterRequest.toLowerCase())\n        )\n        .sort((prev, post) => prev.localeCompare(post)),\n    [filterRequest, notAllowedProducts]\n  );\n\n  const getPercentsKcal = percent => {\n    const total = dailyRate || daySummary?.dailyRate;\n\n    return Math.round((percent / 100) * total);\n  };\n\n  const normalLeft = Math.round(kcalLeft) || Math.round(daySummary?.kcalLeft);\n  const normalConsumed =\n    Math.round(kcalConsumed) || Math.round(daySummary?.kcalConsumed);\n  const normalPercent =\n    Math.round(percentsOfDailyRate) ||\n    Math.round(daySummary?.percentsOfDailyRate);\n  const normalPercentsKcal =\n    getPercentsKcal(percentsOfDailyRate) ||\n    getPercentsKcal(daySummary?.percentsOfDailyRate);\n\n  return (\n    <AsideBox>\n      <Div>\n        <Title>Summary for {date}</Title>\n        <KcalList>\n          <KcalItem>\n            <Text>Left</Text>\n            <Span>\n              {kcalLeft || daySummary ? normalLeft : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n          <KcalItem>\n            <Text>Consumed</Text>\n            <Span>\n              {kcalConsumed || daySummary ? normalConsumed : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n          <KcalItem>\n            <Text>Daily rate</Text>\n            <Span>\n              {dailyRate || daySummary\n                ? dailyRate || daySummary.dailyRate\n                : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n          <KcalItem>\n            <Text>\n              {percentsOfDailyRate || daySummary ? normalPercent : 'n'}% of\n              normal\n            </Text>\n            <Span>\n              {percentsOfDailyRate || daySummary ? normalPercentsKcal : '000'}\n              kcal\n            </Span>\n          </KcalItem>\n        </KcalList>\n      </Div>\n      <Div>\n        <Title>Food not recommended</Title>\n        <Filter\n          isAuth={isAuth}\n          onChangeFilter={getUserFilterRequest}\n          value={filterRequest}\n        />\n        <ProductList>\n          {filtredNotAllowedProducts ? (\n            <>\n              {filtredNotAllowedProducts?.map(product => (\n                <KcalItem key={product}>\n                  <Text>{product}</Text>\n                </KcalItem>\n              ))}\n            </>\n          ) : (\n            <KcalItem>\n              <Text>Your diet will be displayed here</Text>\n            </KcalItem>\n          )}\n        </ProductList>\n      </Div>\n    </AsideBox>\n  );\n}\n\nSideBar.propTypes = {\n  date: PropTypes.string,\n  dailyInfo: PropTypes.shape({\n    date: PropTypes.string,\n    daySummary: PropTypes.shape({\n      dailyRate: PropTypes.number,\n      date: PropTypes.string,\n      id: PropTypes.string,\n      kcalConsumed: PropTypes.number,\n      kcalLeft: PropTypes.number,\n      percentsOfDailyRate: PropTypes.number,\n      userId: PropTypes.string,\n    }),\n    eatenProducts: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n        kcal: PropTypes.number,\n        title: PropTypes.string,\n        weight: PropTypes.number,\n      })\n    ),\n    id: PropTypes.string,\n  }),\n  notAllowedProducts: PropTypes.arrayOf(PropTypes.string),\n};\n","import styled from 'styled-components';\nimport { breakpoints } from 'helpers/breakpoints';\n\nexport const UserPage = styled.section`\n  min-width: 320px;\n  background: ${p =>\n    p.theme.gradient\n      ? `linear-gradient(\n        180deg,\n        rgba(255, 255, 255, 1) 48%,\n        rgba(240, 241, 243, 1) 48%\n      )`\n      : `linear-gradient(\n        180deg,\n        rgba(22,\t81,\t129, 0.3) 48%,\n        #165181 48%\n      )`};\n\n  @media ${breakpoints.minTablet} {\n    background: ${p =>\n      p.theme.gradient\n        ? `linear-gradient(\n        180deg,\n        rgba(255, 255, 255, 1) 60%,\n        rgba(240, 241, 243, 1) 60%\n      )`\n        : `linear-gradient(\n        180deg,\n        rgba(22,\t81,\t129, 0.3) 60%,\n        #165181 60%\n      )`};\n  }\n\n  @media ${breakpoints.desktop} {\n    height: 100vh;\n    background: transparent;\n  }\n`;\n\nexport const UserWrapper = styled.section`\n  display: flex;\n  flex-direction: column;\n\n  @media ${breakpoints.desktop} {\n    flex-direction: row;\n  }\n`;\n","import { Container } from 'components/Container';\r\nimport { Outlet, useSearchParams } from 'react-router-dom';\r\nimport SideBar from 'components/SideBar';\r\nimport { UserPage, UserWrapper } from './User.styled';\r\nimport { Suspense, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport APIs from 'services/API/API';\r\nimport { toast } from 'react-toastify';\r\nimport Loader from 'components/Loader';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectSlimDaddy } from 'redux/slimDaddy/selectors.slimDaddy';\r\n\r\nconst TODAY = new Date().toLocaleDateString('en-CA');\r\n\r\nexport default function User() {\r\n  const [searchParams] = useSearchParams();\r\n  const date = searchParams.get('date') || TODAY;\r\n  const normalizedDate = new Date(date)\r\n    .toLocaleDateString('en-GB')\r\n    .replaceAll('/', '.');\r\n\r\n  const { userId } = useParams();\r\n  const isDaddy = useSelector(selectSlimDaddy);\r\n\r\n  const usersParams = JSON.parse(window.localStorage.getItem('userParams'));\r\n\r\n  const [dailyRate, setDailyRate] = useState({});\r\n  const [state, setState] = useState('idle');\r\n\r\n  const [notAllowedProducts, setNotAllowedProducts] = useState([]);\r\n  const [userData, setUserData] = useState({});\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  userData && toast.warn(errorMessage);\r\n\r\n  useEffect(() => {\r\n    getInfoSideBar(\r\n      setDailyRate,\r\n      setErrorMessage,\r\n      setNotAllowedProducts,\r\n      setUserData,\r\n      date,\r\n      userId,\r\n      usersParams,\r\n      setState\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [date, userId]);\r\n\r\n  useEffect(() => {\r\n    getAllowedProducts(\r\n      setUserData,\r\n      setNotAllowedProducts,\r\n      setErrorMessage,\r\n      setState\r\n    );\r\n  }, []);\r\n  return (\r\n    <UserPage isDaddy={isDaddy}>\r\n      <Container>\r\n        {userData?.notAllowedProducts ? (\r\n          <UserWrapper>\r\n            <Suspense fallback={<Loader />}>\r\n              <Outlet\r\n                context={{\r\n                  userData,\r\n                  setNotAllowedProducts,\r\n                  dailyRate,\r\n                  setDailyRate,\r\n                  state,\r\n                }}\r\n              />\r\n            </Suspense>\r\n\r\n            <SideBar\r\n              date={normalizedDate}\r\n              dailyInfo={dailyRate}\r\n              notAllowedProducts={notAllowedProducts}\r\n            />\r\n          </UserWrapper>\r\n        ) : (\r\n          <Loader />\r\n        )}\r\n      </Container>\r\n    </UserPage>\r\n  );\r\n}\r\n\r\nasync function getAllowedProducts(\r\n  setUserData,\r\n  setNotAllowedProducts,\r\n  setErrorMessage,\r\n  setState\r\n) {\r\n  try {\r\n    setState('pending');\r\n    const { data } = await APIs.getUserInfoRequest();\r\n    setErrorMessage(null);\r\n    setUserData(data.userData);\r\n    setNotAllowedProducts(data.userData.notAllowedProducts);\r\n    setState('idle');\r\n    if (data.userData.height > 90) window.localStorage.removeItem('userParams');\r\n  } catch (error) {\r\n    const message = error?.response?.data?.message;\r\n    setErrorMessage(message);\r\n    setState('idle');\r\n  }\r\n}\r\n\r\nasync function getInfoSideBar(\r\n  setDailyRate,\r\n  setErrorMessage,\r\n  setNotAllowedProducts,\r\n  setUserData,\r\n  date,\r\n  userId,\r\n  usersParams,\r\n  setState\r\n) {\r\n  try {\r\n    setState('pending');\r\n    const { data } = await APIs.getInfoForDayRequest({ date });\r\n    setDailyRate(data);\r\n    setErrorMessage(null);\r\n    setState('idle');\r\n  } catch (error) {\r\n    setState('idle');\r\n    if (\r\n      error.response.data.message === 'Please, count your daily rate first' &&\r\n      usersParams\r\n    ) {\r\n      setErrorMessage(null);\r\n      setUserData(usersParams);\r\n      getRequestWithSaved(\r\n        userId,\r\n        usersParams,\r\n        setDailyRate,\r\n        setNotAllowedProducts,\r\n        setErrorMessage,\r\n        setState\r\n      );\r\n    } else {\r\n      setErrorMessage(error.response.data.message);\r\n    }\r\n  }\r\n}\r\n\r\nasync function getRequestWithSaved(\r\n  userId,\r\n  usersParams,\r\n  setDailyRate,\r\n  setNotAllowedProducts,\r\n  setErrorMessage,\r\n  setState\r\n) {\r\n  try {\r\n    setState('pending');\r\n\r\n    const { data } = await APIs.calculateDaylyAuthRequest(userId, usersParams);\r\n    setDailyRate({ dailyRate: data.dailyRate, kcalLeft: data.dailyRate });\r\n    setNotAllowedProducts(data.notAllowedProducts);\r\n    setErrorMessage(null);\r\n    window.localStorage.removeItem('userParams');\r\n    setState('idle');\r\n  } catch (error) {\r\n    const message = error?.response?.data?.message;\r\n    setErrorMessage(message);\r\n    setState('idle');\r\n  }\r\n}\r\n"],"names":["FilterWrap","styled","FilterInput","p","isAuth","theme","modalTextColor","onChangeFilter","value","onChange","type","name","pattern","title","required","placeholder","AsideBox","sideBarColor","breakpoints","leaves","leavesBig","Title","Div","KcalList","KcalItem","Text","Span","ProductList","SideBar","date","dailyInfo","notAllowedProducts","dailyRate","kcalConsumed","kcalLeft","percentsOfDailyRate","daySummary","useSelector","selectIsAuth","useState","filterRequest","setFilterRequest","filtredNotAllowedProducts","useMemo","filter","product","toLowerCase","includes","sort","prev","post","localeCompare","getPercentsKcal","percent","total","Math","round","normalLeft","normalConsumed","normalPercent","normalPercentsKcal","Filter","e","target","map","UserPage","gradient","UserWrapper","TODAY","Date","toLocaleDateString","User","useSearchParams","get","normalizedDate","replaceAll","userId","useParams","isDaddy","selectSlimDaddy","usersParams","JSON","parse","window","localStorage","getItem","setDailyRate","state","setState","setNotAllowedProducts","userData","setUserData","errorMessage","setErrorMessage","toast","useEffect","getInfoSideBar","getAllowedProducts","Container","Suspense","fallback","Loader","context","APIs","data","height","removeItem","message","response","getRequestWithSaved"],"sourceRoot":""}